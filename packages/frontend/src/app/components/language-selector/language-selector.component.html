<ng-container *ngIf='{dropdownVisible: dropdownVisible$ | async, selectedLanguage: selectedLanguage$ | async, nonSelectedLanguages: nonSelectedLanguages$ | async} as values'>
  <ng-container *ngIf='values.nonSelectedLanguages?.length'>
    <div appClickOutside (clickOutside)='dropdownVisible$.next(false)' class='language-selector'>
      <button (click)='dropdownVisible$.next(!values.dropdownVisible)' aria-label="language-selector-button">
        <span>{{values.selectedLanguage?.name?.substring(0, 3)}}</span>
        <img class='icon-arrow icon-25px'
             [class.top-arrow]='!values.dropdownVisible'
             [class.bottom-arrow]='values.dropdownVisible'
             src='assets/icons/icon-arrow.svg'
             alt='icon-arrow' />
      </button>
      <ul @fade *ngIf='values.dropdownVisible' class='language-selector__dropdown'>
        <li *ngFor='let language of values.nonSelectedLanguages' class='language-selector__dropdown-item'>
          <a [href]='"/" + language.code + "/"'>{{language.name}}</a>
        </li>
      </ul>
    </div>
  </ng-container>
</ng-container>
